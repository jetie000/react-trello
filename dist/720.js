"use strict";(self.webpackChunkreact_trello=self.webpackChunkreact_trello||[]).push([[720],{720:(e,t,a)=>{a.r(t);var l=a(132),n=a.n(l),r=a(808),s=a(840),o=a(896);const i={API_URL:"https://express-backend-trello.vercel.app/api",TOKEN_LOCALSTORAGE:"token",THEME_LOCALSTORAGE:"page_theme",LANGUAGE_LOCALSTORAGE:"page_language",USERID_LOCALSTORAGE:"user_id",BURGER_BREAKPOINT:576,LANGUAGES:[{ERROR:"Ошибка",ERROR_ACCESS_TOKEN:"Ошибка токена доступа",INPUT_DATA:"Введите данные",RETURN_TO_THE_CABINET:"Вернуться в личный кабинет",ADD_FIELD:"Добавить поле",LOADING:"Загрузка...",LOGIN:"Вход",REGISTER:"Регистрация",INVALID_LOGIN:"Вы ввели неправильный email или пароль",NO_ACCESS:"Нет доступа",SUCCESFULLY_ENTERED:"Вы успешно вошли",ENTER_EMAIL:"Введите e-mail",PASSWORD:"Пароль",ENTER_PASSWORD:"Введите пароль",LOG_IN:"Войти",ALREADY_EXISTS:"Пользователь с таким адресом эл. почты существует",SUCCESFULLY_REGISTERED:"Вы успешно зарегистрированы",SUCCESS:"Успешно",SURNAME:"Фамилия",ENTER_SURNAME:"Введите фамилию",NAME:"Имя",ENTER_NAME:"Введите имя",REGISTER_:"Зарегистрироваться",ERROR_USER_DATA:"Ошибка в данных пользователя",USER_SUCCESSFULLY_DELETED:"Пользователь успешно удален",USER_NOT_FOUND:"Пользователь не найден",USER_SUCCESSFULLY_CHANGED:"Пользователь успешно изменен",SURE_DELETE_ACC:"Вы точно хотите удалить аккаунт? Вместе с этим вы удалите все его коллекции.",DELETE_ACCOUNT:"Удалить аккаунт",DELETING_ACCOUNT:"Удаление аккаунта",ADMIN_MENU:"Меню администратора",SELECTED_USER:"Выбранный пользователь",ROLE:"Роль",USER:"Пользователь",ADMIN:"Администратор",ACCESS:"Доступ",NEW_PASSWORD:"Новый пароль (По желанию)",ENTER_NEW_PASSWORD:"Введите новый пароль",CHANGE_DATA:"Изменить данные",DELETE_USER:"Удалить пользователя",YES:"Да",NO:"Нет",RETURN_TO_MAIN:"Вернуться на главную",MY_DATA:"Мои данные",MY_COLLECTIONS:"Мои коллекции",MY_COMMENTS:"Мои комментарии",MY_REACTIONS:"Мои реакции",LOGOUT:"Выйти",WRONG_PASSWORD:"Вы ввели неправильный пароль",DATA_SUCCESFULLY_CHANGED:"Данные успешно изменены",ERROR_IN_USER_DATA:"Ошибка в данных пользователя",SURE_DELETE_ACC_MY:"Вы точно хотите удалить аккаунт? Вместе с этим вы удалите все свои коллекции.",ENTER_NEW_SURNAME:"Введите новую фамилию",ENTER_NEW_NAME:"Введите новое имя",ENTER_NEW_EMAIL:"Введите новый email",ENTER_OLD_PASS:"Введите старый пароль",OLD_PASS:"Старый пароль (Обязательно)",NOTIFICATION:"Уведомление"},{ERROR:"Error",ERROR_ACCESS_TOKEN:"Access token error",INPUT_DATA:"Input data",RETURN_TO_THE_CABINET:"Return to the cabinet",ADD_FIELD:"Add field",LOADING:"Loading...",LOGIN:"Log In",REGISTER:"Sign Up",INVALID_LOGIN:"You've entered invalid email or password",NO_ACCESS:"No access",SUCCESFULLY_ENTERED:"You've succesfully entered",ENTER_EMAIL:"Input e-mail",PASSWORD:"Password",ENTER_PASSWORD:"Input password",LOG_IN:"Log In",ALREADY_EXISTS:"User with that email already exists",SUCCESFULLY_REGISTERED:"You've succesfully registered",SUCCESS:"Success",SURNAME:"Surname",ENTER_SURNAME:"Input surname",NAME:"Name",ENTER_NAME:"Input name",REGISTER_:"Sign Up",ERROR_USER_DATA:"User data error",USER_SUCCESSFULLY_DELETED:"User successfully deleted",USER_NOT_FOUND:"User not found",USER_SUCCESSFULLY_CHANGED:"User successfully changed",SURE_DELETE_ACC:"Are you sure you want to delete an account? You will also delete all of his collections.",DELETE_ACCOUNT:"Delete an account",DELETING_ACCOUNT:"Account deleting",ADMIN_MENU:"Admin menu",SELECTED_USER:"Selected user",ROLE:"Role",USER:"User",ADMIN:"Admin",ACCESS:"Access",NEW_PASSWORD:"New password (Optional)",ENTER_NEW_PASSWORD:"Input new password",CHANGE_DATA:"Change data",DELETE_USER:"Delete user",YES:"Yes",NO:"No",RETURN_TO_MAIN:"Return to main page",MY_DATA:"My info",MY_COLLECTIONS:"My collections",MY_COMMENTS:"My comments",MY_REACTIONS:"My reactions",LOGOUT:"Log out",WRONG_PASSWORD:"You've entered wrong password",DATA_SUCCESFULLY_CHANGED:"Info succesfully changed",ERROR_IN_USER_DATA:"Error in user data",SURE_DELETE_ACC_MY:"Are you sure you want to delete an account? You will also delete all of your collections.",ENTER_NEW_SURNAME:"Input new surname",ENTER_NEW_NAME:"Input new name",ENTER_NEW_EMAIL:"Input new email",ENTER_OLD_PASS:"Input old password",OLD_PASS:"Old password (necessary)",NOTIFICATION:"Notification"}]},m={token:localStorage.getItem(i.TOKEN_LOCALSTORAGE)||void 0,id:Number(localStorage.getItem(i.USERID_LOCALSTORAGE))||void 0},c=(0,o.createSlice)({name:"user",initialState:m,reducers:{logout:e=>{localStorage.removeItem(i.TOKEN_LOCALSTORAGE),localStorage.removeItem(i.USERID_LOCALSTORAGE),e.token=void 0,e.id=void 0},login:(e,t)=>{let{payload:{token:a,id:l}}=t;e.token=a,e.id=l,localStorage.setItem(i.TOKEN_LOCALSTORAGE,JSON.stringify(a)),localStorage.setItem(i.USERID_LOCALSTORAGE,JSON.stringify(l))}}}),{actions:d,reducer:E}=c,u=(0,o.createSlice)({name:"toast",initialState:{toastChildren:void 0},reducers:{setToastChildren:(e,t)=>{let{payload:a}=t;e.toastChildren=a}}}),{actions:p,reducer:N}=u,h={theme:localStorage.getItem(i.THEME_LOCALSTORAGE)||"dark",language:Number.parseInt(localStorage.getItem(i.LANGUAGE_LOCALSTORAGE)||"1")},g=(0,o.createSlice)({name:"pageOptions",initialState:h,reducers:{setTheme:(e,t)=>{let{payload:a}=t;e.theme=a,localStorage.setItem(i.THEME_LOCALSTORAGE,a),document.documentElement.setAttribute("data-bs-theme",a)},setLanguage:(e,t)=>{let{payload:a}=t;e.language=a,localStorage.setItem(i.LANGUAGE_LOCALSTORAGE,a.toString())}}}),{actions:A,reducer:S}=g;var T=a(584),f=a(516);const v=(0,T._)({baseUrl:i.API_URL,credentials:"include",prepareHeaders:e=>(localStorage.getItem(i.TOKEN_LOCALSTORAGE)&&e.set("Authorization","Bearer ".concat(localStorage.getItem(i.TOKEN_LOCALSTORAGE))),e)}),b=(0,f.KS)({reducerPath:"baseApi",baseQuery:async(e,t,a)=>{let l=await v(e,t,a);if(l.error&&401===l.error.status){const n=await v("/auth/refresh",t,a);n.data?(localStorage.setItem(i.TOKEN_LOCALSTORAGE,n.data.accessToken),l=await v(e,t,a)):(localStorage.removeItem(i.TOKEN_LOCALSTORAGE),localStorage.removeItem(i.USERID_LOCALSTORAGE))}return l},tagTypes:["User","Users"],endpoints:()=>({})}),w=(0,o.combineReducers)({user:E,toast:N,options:S,[b.reducerPath]:b.reducer}),R=(0,o.configureStore)({reducer:w,devTools:!1,middleware:e=>e().concat(b.middleware)}),y=function(){const{toastChildren:e}=(0,r.useSelector)((e=>e.toast));return n().createElement("div",{className:"toast-container position-fixed bottom-0 end-0 p-3"},n().createElement("div",{id:"myToast",className:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true"},n().createElement("div",{className:"toast-header"},n().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-bell-fill me-2",viewBox:"0 0 16 16"},n().createElement("path",{d:"M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z"})),n().createElement("strong",{className:"me-auto"},"Notification"),n().createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})),n().createElement("div",{className:"toast-body"},e)))};var _=a(596),L=a.n(_),I=a(520),C=a.n(I),O=a(176),U=a.n(O),x=a(120),G=a.n(x),D=a(428),M=a.n(D),B=a(936),P=a.n(B),k=a(712),F={};F.styleTagTransform=P(),F.setAttributes=G(),F.insert=U().bind(null,"head"),F.domAPI=C(),F.insertStyleElement=M(),L()(k.c,F),k.c&&k.c.locals&&k.c.locals;const Y=function(e){let{children:t}=e;const{token:a}=(0,r.useSelector)((e=>e.user));return a?n().createElement(s.Navigate,{to:"/"}):n().createElement("div",{className:"position-absolute d-flex main-window"},n().createElement("div",{className:"border rounded p-5 inner-window"},n().createElement("ul",{className:"navbar-nav flex-row justify-content-between gap-3"},n().createElement("li",{className:"nav-item w-100"},n().createElement(s.Link,{className:"btn w-100 btn-outline-primary",to:"/login"},"Sign In")),n().createElement("li",{className:"nav-item w-100"},n().createElement(s.Link,{className:"btn w-100 btn-outline-primary",to:"/register"},"Register"))),t))},W=b.injectEndpoints({endpoints:e=>({getByIds:e.query({query:e=>({url:"/user/getByIds/"+e.join("_"),method:"GET"})}),getById:e.query({query:e=>({url:"/user/"+e,method:"GET"})}),logInUser:e.mutation({query:e=>({body:e,url:"/auth/login",method:"POST"})}),registerUser:e.mutation({query:e=>({body:e,url:"/auth/register",method:"POST"})}),changeUser:e.mutation({query:e=>({body:e,url:"/user",method:"PUT"})}),logout:e.mutation({query:()=>({url:"/auth/logout",method:"POST"})}),deleteUser:e.mutation({query:e=>({url:"/user/"+e,method:"DELETE"})}),searchUsers:e.query({query:e=>({url:"/user/search/"+e,method:"GET"})})})}),{useChangeUserMutation:H,useDeleteUserMutation:q,useGetByIdQuery:z,useGetByIdsQuery:K,useLogInUserMutation:j,useLogoutMutation:Q,useRegisterUserMutation:V,useSearchUsersQuery:Z}=W,J={...d,...p,...A},X=()=>{const e=(0,r.useDispatch)();return(0,l.useMemo)((()=>(0,o.bindActionCreators)(J,e)),[e])};var $=a(772);const ee=function(){const e=(0,s.useNavigate)(),{login:t,setToastChildren:a}=X(),[r,{isLoading:o,isSuccess:i,isError:m,data:c,error:d}]=j();return(0,l.useEffect)((()=>{if(i){const l=$.Toast.getOrCreateInstance(document.getElementById("myToast")||"myToast");a("You've succedfully logged in"),l.show(),t({token:c.accessToken,id:c.id}),e("/")}if(m){const e=$.Toast.getOrCreateInstance(document.getElementById("myToast")||"myToast");return a((null==d?void 0:d.data).message),console.log(d),void e.show()}}),[o]),n().createElement("div",{className:"mt-3"},n().createElement("form",null,n().createElement("div",{className:"mb-3"},n().createElement("label",{className:"mb-1",htmlFor:"inputEmail"},"Email"),n().createElement("input",{type:"email",className:"form-control",id:"inputEmail",placeholder:"Enter e-mail"})),n().createElement("div",{className:"mb-3"},n().createElement("label",{className:"mb-1",htmlFor:"inputPassword"},"Password"),n().createElement("input",{type:"password",className:"form-control",id:"inputPassword",placeholder:"Enter password"})),n().createElement("button",{type:"button",className:"btn btn-primary mt-3 w-100",onClick:()=>{let e=document.getElementById("inputEmail").value,t=document.getElementById("inputPassword").value;const l=$.Toast.getOrCreateInstance(document.getElementById("myToast")||"myToast");if(""==e||""==t)return a("Enter data"),void l.show();r({email:e.trim(),password:t.trim()})}},"Sign In")))},te=function(){const[e,{isLoading:t,isSuccess:a,isError:r,data:s,error:o}]=V(),{setToastChildren:i}=X();return(0,l.useEffect)((()=>{const e=$.Toast.getOrCreateInstance(document.getElementById("myToast")||"myToast");a&&(i("You've succesfully registered\nCheck your e-mail for confirm letter"),document.getElementById("inputFullName").value="",document.getElementById("inputEmail").value="",document.getElementById("inputPassword").value="",e.show()),r&&(console.log(o),i((null==o?void 0:o.data).message),e.show())}),[t]),n().createElement("div",{className:"mt-3"},n().createElement("form",null,n().createElement("div",{className:"mb-3"},n().createElement("label",{htmlFor:"inputFullName"},"Surname and name"),n().createElement("input",{className:"form-control",id:"inputFullName",placeholder:"Enter surname and name"})),n().createElement("div",{className:"mb-3"},n().createElement("label",{htmlFor:"inputEmail"},"Email"),n().createElement("input",{type:"email",className:"form-control",id:"inputEmail",placeholder:"Enter e-mail"})),n().createElement("div",{className:"mb-3"},n().createElement("label",{htmlFor:"inputPassword"},"Password"),n().createElement("input",{type:"password",className:"form-control",id:"inputPassword",placeholder:"Enter password"})),n().createElement("button",{type:"button",className:"btn btn-primary mt-3 w-100",onClick:()=>(()=>{let t=document.getElementById("inputFullName").value,a=document.getElementById("inputEmail").value,l=document.getElementById("inputPassword").value;const n=$.Toast.getOrCreateInstance(document.getElementById("myToast")||"myToast");if(""==a||""==l||""==t)return i("Enter data"),void n.show();console.log(a," ",t," ",l),e({email:a.trim(),password:l.trim(),fullName:t.trim()})})()},"Register")))};var ae=a(0),le={};le.styleTagTransform=P(),le.setAttributes=G(),le.insert=U().bind(null,"head"),le.domAPI=C(),le.insertStyleElement=M(),L()(ae.c,le),ae.c&&ae.c.locals&&ae.c.locals;const ne=function(){return n().createElement("h1",{className:"page404"},"Ошибка 404 - Страница не найдена")};var re=a(352),se=a(152),oe={};oe.styleTagTransform=P(),oe.setAttributes=G(),oe.insert=U().bind(null,"head"),oe.domAPI=C(),oe.insertStyleElement=M(),L()(se.c,oe),se.c&&se.c.locals&&se.c.locals;const ie=function(){const{setTheme:e}=X(),{token:t}=(0,r.useSelector)((e=>e.user)),{theme:a}=(0,r.useSelector)((e=>e.options)),l=(0,s.useNavigate)();if(!t)return n().createElement(n().Fragment,null);const o=()=>{window.innerWidth<i.BURGER_BREAKPOINT&&$.Offcanvas.getOrCreateInstance("#offcanvasNav").toggle()};return n().createElement("header",{className:"bg-primary position-sticky top-0 z-2"},n().createElement("nav",{className:"navbar navbar-expand-sm navbar-dark header-wrapper m-auto ps-3 pe-3"},n().createElement("span",{className:"navbar-brand cursor-pointer",onClick:()=>l("/")},"My boards"),n().createElement("div",{className:"dropdown align-items-center d-flex cursor-pointer ms-auto"},n().createElement("div",{className:"dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},"dark"===a?n().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"white",className:"bi bi-moon-stars-fill",viewBox:"0 0 16 16"},n().createElement("path",{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"}),n().createElement("path",{d:"M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"})):n().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"white",className:"bi bi-sun-fill",viewBox:"0 0 16 16"},n().createElement("path",{d:"M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"}))),n().createElement("ul",{className:"dropdown-menu dropdown-menu-end position-absolute"},n().createElement("li",null,n().createElement("span",{onClick:()=>e("dark"),className:"dropdown-item"},"Dark")),n().createElement("li",null,n().createElement("span",{onClick:()=>e("light"),className:"dropdown-item"},"Light")))),n().createElement("button",{className:"navbar-toggler ms-3",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNav","aria-expanded":"false"},n().createElement("span",{className:"navbar-toggler-icon"})),n().createElement("div",{className:"offcanvas offcanvas-end",id:"offcanvasNav"},n().createElement("div",{className:"offcanvas-header"},n().createElement("h5",{className:"offcanvas-title",id:"offcanvasNavbarLabel"},"Menu"),n().createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})),n().createElement("div",{className:"offcanvas-body"},n().createElement("ul",{className:"navbar-nav"},n().createElement("li",{className:"nav-item"},n().createElement("span",{className:"nav-link cursor-pointer",onClick:()=>{l("/board/add"),o()}},"Add board")),n().createElement("li",{className:"nav-item"},n().createElement("span",{className:"nav-link cursor-pointer",onClick:()=>{l("/cabinet"),o()}},"Cabinet")))))))};var me=a(456),ce={};ce.styleTagTransform=P(),ce.setAttributes=G(),ce.insert=U().bind(null,"head"),ce.domAPI=C(),ce.insertStyleElement=M(),L()(me.c,ce),me.c&&me.c.locals&&me.c.locals;const de=function(e){let{children:t}=e;return n().createElement("div",{className:"d-flex flex-fill main-wrapper p-3 ms-auto me-auto"},t)},Ee=function(){const{token:e,id:t}=(0,r.useSelector)((e=>e.user));return e?n().createElement("div",null,n().createElement("h1",null,"My boards")):n().createElement(s.Navigate,{to:"/login"})};var ue=a(976),pe={};pe.styleTagTransform=P(),pe.setAttributes=G(),pe.insert=U().bind(null,"head"),pe.domAPI=C(),pe.insertStyleElement=M(),L()(ue.c,pe),ue.c&&ue.c.locals&&ue.c.locals;const Ne=function(e){let{userIds:t,setUserIds:a}=e;const{isLoading:r,isError:s,data:o}=K(t),{setToastChildren:i}=X();return(0,l.useEffect)((()=>{if(s){const e=$.Toast.getOrCreateInstance(document.getElementById("myToast")||"myToast");i("Request error"),e.show()}}),[r]),n().createElement("ul",{className:"list-group add-board-users"},o&&o.map((e=>n().createElement("li",{className:"list-group-item d-flex justify-content-between",key:e.id},n().createElement("div",{className:"d-flex flex-column"},n().createElement("div",null,e.email),n().createElement("div",null,e.fullName)),n().createElement("button",{className:"btn btn-danger",onClick:()=>(e=>{const l=t.findIndex((t=>t===e));void 0!==l&&a(t.slice(0,l).concat(t.slice(l+1)))})(e.id)},n().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash3-fill",viewBox:"0 0 16 16"},n().createElement("path",{d:"M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5m-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06m6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528M8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5"})))))))},he=b.injectEndpoints({endpoints:e=>({getById:e.query({query:e=>({url:"/board/"+e,method:"GET"})}),getByUserId:e.query({query:e=>({url:"/board/user/"+e,method:"GET"})}),addBoard:e.mutation({query:e=>({body:e,url:"/board",method:"POST"})}),changeBoard:e.mutation({query:e=>({body:e,url:"/board",method:"PUT"})}),deleteBoard:e.mutation({query:e=>({url:"/board/"+e,method:"DELETE"})})})}),{useAddBoardMutation:ge,useChangeBoardMutation:Ae,useDeleteBoardMutation:Se,useGetByIdQuery:Te,useGetByUserIdQuery:fe}=he,ve=function(){const{token:e,id:t}=(0,r.useSelector)((e=>e.user));if(!e)return l.createElement(s.Navigate,{to:"/login"});const{setToastChildren:a}=X(),n=(0,l.useRef)(null),[o,i]=(0,l.useState)(""),[m,c]=(0,l.useState)(!1),[d,E]=(0,l.useState)([]),u=(0,l.useRef)(null),p=(0,l.useRef)(null),{isLoading:N,isError:h,data:g}=Z(o,{skip:""===o}),[A,{isLoading:S,isError:T,data:f}]=ge();return(0,l.useEffect)((()=>{if(h){const e=$.Toast.getOrCreateInstance(document.getElementById("myToast")||"myToast");a("Request error"),e.show()}}),[N]),(0,l.useEffect)((()=>{if(h){const e=$.Toast.getOrCreateInstance(document.getElementById("myToast")||"myToast");a("Request error"),e.show()}}),[S]),l.createElement("div",{className:" d-flex flex-fill flex-column"},l.createElement("div",{className:"ms-auto me-auto d-flex flex-column add-board ps-3 pe-3 flex-fill"},l.createElement("h2",{className:"text-center p-3"},"Add Board"),l.createElement("div",{className:"mb-3"},l.createElement("label",{htmlFor:"inputName"},"Name"),l.createElement("input",{className:"form-control",id:"inputName",placeholder:"Enter name",ref:u})),l.createElement("div",{className:"mb-3"},l.createElement("label",{htmlFor:"inputDescription"},"Description (Optional)"),l.createElement("textarea",{className:"form-control",id:"inputDescription",placeholder:"Enter description",ref:p})),l.createElement("div",{className:"mb-1"},l.createElement("label",{htmlFor:"inputDescription"},"Users"),l.createElement("div",{className:"input-group"},l.createElement("input",{type:"text",className:"form-control w-50",placeholder:"Enter request",ref:n,onChange:e=>i(e.target.value),onFocus:()=>c(!0)}),l.createElement("button",{className:"btn btn-secondary d-flex align-items-center add-board-behind-canvas",type:"button",onClick:()=>{n.current.value="",i("")}},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-x-lg",viewBox:"0 0 16 16"},l.createElement("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"}))))),m&&l.createElement("div",{className:"position-relative"},l.createElement("ul",{onClick:()=>c(!1),id:"searchList",className:"list-group user-search-list position-absolute"},g&&""!==o&&g.length>0&&g.map((e=>l.createElement("li",{onClick:()=>(e=>{d.find((t=>t===e.id))||E([...d,e.id]),c(!1)})(e),className:"list-group-item p-2 cursor-pointer text-truncate",key:e.email},l.createElement("div",null,e.email),l.createElement("div",null,e.fullName)))))),d.length>0&&l.createElement(Ne,{userIds:d,setUserIds:E}),l.createElement("button",{type:"button",className:"btn btn-primary w-100 mt-3",onClick:()=>(()=>{var e;const l=$.Toast.getOrCreateInstance(document.getElementById("myToast")||"myToast");u.current&&p.current&&t&&""!==(null===(e=u.current)||void 0===e?void 0:e.value.trim())?A({name:u.current.value,description:p.current.value,creatorId:t,userIds:d}):(a("Enter data"),l.show())})()},"Add board")))};var be=a(52),we={};we.styleTagTransform=P(),we.setAttributes=G(),we.insert=U().bind(null,"head"),we.domAPI=C(),we.insertStyleElement=M(),L()(be.c,we),be.c&&be.c.locals&&be.c.locals;const Re=function(e){let{id:t,title:a,children:l}=e;return n().createElement("div",{className:"modal  fade",id:t,tabIndex:-1,role:"dialog","aria-hidden":"true","aria-labelledby":t+"Label"},n().createElement("div",{className:"modal-dialog modal-sm modal-dialog-centered",role:"document"},n().createElement("div",{className:"modal-content"},n().createElement("div",{className:"modal-header"},n().createElement("h5",{className:"modal-title",id:t+"Label"},a),n().createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),n().createElement("div",{className:"modal-body"},l))))},ye=function(){const{token:e,id:t}=(0,r.useSelector)((e=>e.user));if(!e)return n().createElement(s.Navigate,{to:"/login"});const[a,o]=(0,l.useState)({title:"",children:""}),{language:m}=(0,r.useSelector)((e=>e.options)),{logout:c,setToastChildren:d}=X(),E=(0,s.useNavigate)(),u=(0,r.useDispatch)(),{isError:p,data:N}=z(t||0),[h,{isLoading:g,isError:A}]=Q(),[S,{isLoading:T,isSuccess:f,isError:v,error:w}]=H(),[R,{isLoading:y,isSuccess:_,isError:L,error:I}]=q();(0,l.useEffect)((()=>{const e=$.Toast.getOrCreateInstance(document.getElementById("myToast")||"myToast");f&&(d(i.LANGUAGES[m].USER_SUCCESSFULLY_CHANGED),e.show()),v&&(d(i.LANGUAGES[m].ERROR_USER_DATA),e.show())}),[T]),(0,l.useEffect)((()=>{const e=$.Toast.getOrCreateInstance(document.getElementById("myToast")||"myToast");_&&(d(i.LANGUAGES[m].USER_SUCCESSFULLY_DELETED),e.show()),L&&(d(i.LANGUAGES[m].USER_NOT_FOUND),e.show())}),[y]),(0,l.useEffect)((()=>{if(A){const e=$.Toast.getOrCreateInstance(document.getElementById("myToast")||"myToast");d(i.LANGUAGES[m].ERROR_IN_USER_DATA),e.show()}}),[g]);const C=()=>{u(b.util.resetApiState()),h(null),c(),E("/login")};return n().createElement("div",{className:" d-flex flex-fill flex-column"},n().createElement("div",{className:"ms-auto me-auto d-flex flex-column cabinet-my-info ps-3 pe-3 flex-fill"},n().createElement("h2",{className:"text-center p-3"},i.LANGUAGES[m].MY_DATA),n().createElement("div",{className:"mb-3"},n().createElement("label",{htmlFor:"inputFullName"},i.LANGUAGES[m].NAME),n().createElement("input",{className:"form-control",id:"inputFullName",placeholder:i.LANGUAGES[m].ENTER_NEW_NAME,defaultValue:null==N?void 0:N.fullName.split(" ",2)[1]})),n().createElement("div",{className:"mb-3"},n().createElement("label",{htmlFor:"inputEmail"},"Email"),n().createElement("input",{type:"email",className:"form-control",id:"inputEmail",placeholder:i.LANGUAGES[m].ENTER_NEW_EMAIL,defaultValue:null==N?void 0:N.email})),n().createElement("div",{className:"mb-3"},n().createElement("label",{htmlFor:"inputOldPassword"},i.LANGUAGES[m].OLD_PASS),n().createElement("input",{type:"password",className:"form-control",id:"inputOldPassword",placeholder:i.LANGUAGES[m].ENTER_OLD_PASS})),n().createElement("div",{className:"mb-3"},n().createElement("label",{htmlFor:"inputNewPassword"},i.LANGUAGES[m].NEW_PASSWORD),n().createElement("input",{type:"password",className:"form-control",id:"inputNewPassword",placeholder:i.LANGUAGES[m].ENTER_NEW_PASSWORD})),n().createElement("button",{type:"button",className:"btn btn-primary mt-3 w-100",onClick:()=>(async()=>{let t=document.getElementById("inputFullName").value,a=document.getElementById("inputEmail").value,l=document.getElementById("inputOldPassword").value,n=document.getElementById("inputNewPassword").value;if(""==a||""==l||""==t){const e=$.Toast.getOrCreateInstance(document.getElementById("myToast")||"myToast");return d(i.LANGUAGES[m].INPUT_DATA),void e.show()}e&&S({email:a.trim(),oldPassword:l.trim(),fullName:t.trim(),password:n.trim(),id:N.id})})()},i.LANGUAGES[m].CHANGE_DATA)),n().createElement("div",{className:"d-flex justify-content-between cabinet-buttons"},n().createElement("button",{onClick:()=>C(),className:"justify-self-end btn btn-danger d-flex align-items-center gap-2 mt-4"},n().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-box-arrow-left",viewBox:"0 0 16 16"},n().createElement("path",{fillRule:"evenodd",d:"M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0z"}),n().createElement("path",{fillRule:"evenodd",d:"M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708z"})),i.LANGUAGES[m].LOGOUT),n().createElement("button",{onClick:()=>(()=>{const e=$.Modal.getOrCreateInstance(document.getElementById("myInfoModal")||"myInfoModal"),t=N&&!p?n().createElement("div",{className:"d-flex flex-column gap-3"},n().createElement("span",null,i.LANGUAGES[m].SURE_DELETE_ACC_MY),n().createElement("button",{onClick:()=>{R(N.id),C()},className:"btn btn-danger"},i.LANGUAGES[m].DELETE_ACCOUNT)):n().createElement("div",null,i.LANGUAGES[m].USER_NOT_FOUND);o({title:i.LANGUAGES[m].DELETING_ACCOUNT,children:t}),e.show()})(),className:"justify-self-end btn btn-danger d-flex align-items-center gap-2 mt-4"},i.LANGUAGES[m].DELETE_ACCOUNT,n().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-trash3-fill",viewBox:"0 0 16 16"},n().createElement("path",{d:"M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z"})))),n().createElement(Re,{id:"myInfoModal",title:a.title},a.children))};var _e=a(820);function Le(){return(0,l.useEffect)((()=>{document.documentElement.setAttribute("data-bs-theme",localStorage.getItem(i.THEME_LOCALSTORAGE)||"dark")}),[]),n().createElement(r.Provider,{store:R},n().createElement(_e.ErrorBoundary,{fallback:n().createElement("h1",null,"ERROR: Something went wrong")},n().createElement(s.BrowserRouter,null,n().createElement(ie,null),n().createElement(de,null,n().createElement(s.Routes,null,n().createElement(s.Route,{path:"/login",element:n().createElement(Y,null,n().createElement(ee,null))}),n().createElement(s.Route,{path:"/register",element:n().createElement(Y,null,n().createElement(te,null))}),n().createElement(s.Route,{path:"/",element:n().createElement(Ee,null)}),n().createElement(s.Route,{path:"/board/add",element:n().createElement(ve,null)}),n().createElement(s.Route,{path:"/cabinet",element:n().createElement(ye,null)}),n().createElement(s.Route,{path:"*",element:n().createElement(ne,null)}))),n().createElement(y,null))))}re.createRoot(document.getElementById("root")).render(n().createElement(Le,null))},456:(e,t,a)=>{a.d(t,{c:()=>o});var l=a(500),n=a.n(l),r=a(312),s=a.n(r)()(n());s.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Montserrat&display=swap);"]),s.push([e.id,"body{font-family:Montserrat,Helvetica,sans-serif}.full-height{min-height:max-content}body{min-height:100vh}#root{min-height:100vh;display:flex;flex-direction:column}.cursor-pointer{cursor:pointer}.main-wrapper{width:1168px !important}.header-wrapper{max-width:1168px !important}@media(max-width: 1200px){.main-wrapper{width:868px !important}}@media(max-width: 932px){.main-wrapper{width:668px !important}}@media(max-width: 716px){.main-wrapper{width:568px !important}}@media(max-width: 620px){.main-wrapper{max-width:490px !important}}@media(max-width: 530px){.main-wrapper{max-width:368px !important;padding:10px !important}}@media(max-width: 410px){.main-wrapper{max-width:270px !important;padding:10px !important}}",""]);const o=s},976:(e,t,a)=>{a.d(t,{c:()=>o});var l=a(500),n=a.n(l),r=a(312),s=a.n(r)()(n());s.push([e.id,".add-board{width:350px;flex-grow:1}.user-search-list{width:100%;top:0;max-height:200px}.add-board-behind-canvas{z-index:1 !important}@media(max-width: 620px){.user-search-list>li>div>span{font-size:20px !important}.user-search-list>li>div>div>div{font-size:16px !important}}@media(max-width: 530px){.user-search-list>li{flex-direction:column;height:auto}.user-search-list>li>div{width:100% !important;padding:10px 0 0 0 !important}}@media(max-width: 410px){.add-board{width:250px;padding:0 !important}.add-board-users>li{flex-direction:column;gap:10px}}",""]);const o=s},712:(e,t,a)=>{a.d(t,{c:()=>o});var l=a(500),n=a.n(l),r=a(312),s=a.n(r)()(n());s.push([e.id,".main-window{left:0;top:0;right:0;bottom:0}.inner-window{width:400px;margin:auto}@media(max-width: 410px){.inner-window{padding:20px !important;margin:auto 20px}}",""]);const o=s},52:(e,t,a)=>{a.d(t,{c:()=>o});var l=a(500),n=a.n(l),r=a(312),s=a.n(r)()(n());s.push([e.id,".cabinet-my-info{width:350px;flex-grow:1}@media(max-width: 410px){.cabinet-my-info{width:250px}.cabinet-buttons{flex-direction:column}}",""]);const o=s},152:(e,t,a)=>{a.d(t,{c:()=>o});var l=a(500),n=a.n(l),r=a(312),s=a.n(r)()(n());s.push([e.id,".dropdown-toggle::after{color:#fff !important}@media(min-width: 576px){nav .dropdown{order:3}}@media(max-width: 575px){[data-bs-theme=light] .offcanvas-body ul li span{color:#000}[data-bs-theme=light] .offcanvas-body ul li span:hover{color:#575757}}",""]);const o=s},0:(e,t,a)=>{a.d(t,{c:()=>o});var l=a(500),n=a.n(l),r=a(312),s=a.n(r)()(n());s.push([e.id,".page404{text-align:center;margin:auto;margin-top:100px}",""]);const o=s}}]);